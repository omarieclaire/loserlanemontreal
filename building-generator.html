<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="mobile-web-app-capable" content="yes" />

    <title>Loser Lane Building Generator</title>
    <meta name="title" content="Loser Lane Building Generator" />
    <meta name="description" content="Draw a building for Loser Lane" />

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://omarieclaire.github.io/loserlanemontreal/" />
    <meta property="og:title" content="Loser Lane Building Generator" />
    <meta property="og:description" content="Draw a building for Loser Lane" />
    <meta property="og:image" content="https://omarieclaire.github.io/loserlanemontreal/img/buildinga.png" />

    <!-- Twitter Card Tags -->
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Loser Lane Building Generator - Montreal Bike Survival Game" />
    <meta name="twitter:description" content="Draw a building for Loser Lane" />
    <meta name="twitter:image" content="https://omarieclaire.github.io/loserlanemontreal/img/buildinga.png" />

    <link rel="me" href="https://mastodon.social/@omarieclaire" />

    <!-- Bluesky/AT Protocol -->
    <meta property="bsky:title" content="Loser Lane Building Generator - Montreal Bike Survival Game" />
    <meta property="bsky:description" content="Draw a building for Loser Lane" />
    <meta property="bsky:image" content="https://omarieclaire.github.io/loserlanemontreal/img/buildinga.png" />

    <!-- General SEO Meta Tags -->
    <meta name="theme-color" content="#000000" />

    <!-- Image Specifications -->
    <meta property="og:image:width" content="1200" />
    <meta property="og:image:height" content="630" />
    <meta property="og:image:alt" content="Loser Lane Building Generator game preview showing a cyclist navigating through traffic" />

    <link rel="icon" type="image/png" href="/favicon/favicon-96x96.png" sizes="96x96" />
    <link rel="icon" type="image/svg+xml" href="/favicon/favicon.svg" />
    <link rel="shortcut icon" href="/favicon/favicon.ico" />
    <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png" />
    <link rel="manifest" href="/favicon/site.webmanifest" />

    <!-- Stylesheet -->
    <link rel="stylesheet" href="mainStyles.css" />
    <link rel="stylesheet" href="buildingGeneratorStyles.css" />
    <link rel="stylesheet" href="pen.css" />

    <!-- External Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

    <!-- Data Files -->
    <script src="colours.js" defer></script>
    <script src="buildings.js" defer></script>
    <script src="translations.js" defer></script>
    <script src="paletteCategories.js" defer></script>
    <script src="pen.js" defer></script>
    <script src="building-generator.js"></script>
  </head>

  <body>
    <!-- Language Toggle -->
    <div class="lang-toggle-container" id="lang-toggle-container">
      <button class="lang-toggle" id="lang-toggle">FR</button>
    </div>

    <!-- Info Button -->
    <div class="info-button-container">
      <button class="info-toggle" id="info-toggle" onclick="toggleInfo()">i</button>
    </div>

    <!-- Info Popup -->
    <div class="info-popup" id="info-popup">
      <button class="info-close" onclick="closeInfo()">√ó</button>
      <p>
        <span data-i18n="infoText"></span>
        <a href="https://marieflanagan.com/about" target="_blank" rel="noopener">marieflanagan.com</a>
      </p>
    </div>

    <!-- Main Container -->
    <div class="container">
      <!-- Header -->
      <div id="header-container">
        <div id="title-bike" class="bike-art-left bike-art-title" style="opacity: 1">
          ‚ëÄo <br />
          _(\&lt;_<br />
          ____(_)‚ç≥(_)____
        </div>
        <p class="subtitle">
          <span data-i18n="subtitle"></span>
          <a target="_blank" href="https://omarieclaire.github.io/loserlanemontreal/">LoserLane</a>
        </p>
      </div>

      <!-- Main Content -->
      <div class="main-content">
        <!-- Grid Section -->
        <div class="grid-section">
          <div class="grid-container">
            <div class="grid" id="grid"></div>
          </div>
          <div class="controls">
            <button class="btn btn-accent" onclick="loadRandomExample()" data-i18n="example">Example</button>
            <button class="btn btn-secondary" id="eraserBtn" onclick="toggleEraser()" data-i18n="eraser">Eraser</button>

            <button class="btn btn-danger" onclick="clearGrid()" data-i18n="eraseAll">Clear</button>
          </div>
          <button class="btn btn-primary" id="add-to-game-btn" onclick="addToGame()" data-i18n="addButton">Add to LoserLane</button>
        </div>

        <!-- Palette Section -->
        <div class="palette-section">
          <div class="palette" id="palette"></div>
        </div>
      </div>

      <!-- Community Gallery -->
      <div class="community-gallery">
        <h3 data-i18n="recentBuildings">Gallery: Recent Buildings</h3>
        <div class="gallery-scroll" id="galleryScroll"></div>
      </div>
    </div>

    <!-- Submission Modal -->
    <div class="modal-overlay" id="modalOverlay">
      <div class="modal">
        <h2 data-i18n="modalTitle">Add to Game</h2>
        <div class="modal-input-group">
          <label data-i18n="buildingName">Building Name</label>
          <input type="text" id="modalBuildingName" data-i18n-placeholder="buildingPlaceholder" placeholder="EG CAFE DEI CAMPI" />
          <div class="validation-error" id="buildingNameError"></div>
        </div>
        <div class="modal-input-group">
          <label data-i18n="artistName">Your Name / Handle</label>
          <input type="text" id="modalArtistName" data-i18n-placeholder="artistPlaceholder" placeholder="EG OMARIECLAIRE" />
          <div class="validation-error" id="artistNameError"></div>
        </div>
        <div class="building-preview-container">
          <div class="building-preview" id="buildingPreview"></div>
        </div>
        <div class="modal-buttons">
          <button class="btn btn-secondary modal-btn" onclick="closeModal()" data-i18n="cancel">Cancel</button>
          <button class="btn btn-primary modal-btn" onclick="submitBuilding()" data-i18n="submit">Submit üöÄ</button>
        </div>
      </div>
    </div>

    <!-- Share Card Container (for screenshot) -->
    <div id="shareCardContainer" class="hidden"></div>

    <!-- Share Modal -->
    <div class="modal-overlay" id="shareModalOverlay">
      <div class="modal">
        <button class="info-close" onclick="closeShareModal()">√ó</button>
        <h2 data-i18n="shareTitle">Success!</h2>
        <p class="share-message" data-i18n="shareMessage">Your building has been submitted to LoserLane!</p>

        <div class="building-preview-container">
          <div class="building-preview" id="shareBuildingPreview"></div>
        </div>

        <div class="share-card-building-name" id="shareCardBuildingName"></div>
        <div class="share-card-artist-name" id="shareCardArtistName"></div>

        <div class="share-buttons-container" id="shareButtonsContainer"></div>
      </div>
    </div>

    <!-- Toast Notification -->
    <div class="toast" id="toast">Copied!</div>

    <!-- Landscape Mode Hint -->
    <div class="landscape-hint" id="landscapeHint" data-i18n="landscapeHint">Rotate for better experience!</div>
  </body>
</html>
